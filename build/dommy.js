/*! (C) WebReflection Mit Style License */
(function(e,t){function s(){}function h(t,n){return m(t,n,"js")||m(e,n,"js")||n.toLowerCase()}function p(e,t,n){t.handleEvent?t.handleEvent(n):t.call(e,n)}function v(e,t){return(t||n).query(e)}function b(e){return function(n){e.apply(n,this)}}function x(e){return e.supports(this)}var n=e.document,r=e.WeakMap||function(){function i(e){return n[t.indexOf(e)]}function s(e){return-1<(r=t.indexOf(e))}function o(e,i){n[s(e)?r:t.push(e)-1]=i}function u(e){s(e)&&(t.splice(r,1),n.splice(r,1))}var t=[],n=[],r;return{get:i,has:s,set:o,"delete":u}},i=e.CustomEvent||function(){function t(e,t,n,r){i.call(this,{bubbles:t,cancelable:n,detail:r})}return function(r,i){var s=e.document.createEvent("Event");return i?(s.initEvent(r,!!i.bubbles,!!i.cancelable),s.detail=i.detail||null):s.initCustomEvent=t,s}}();(function(e){function t(e,t){var n=e.indexOf(t);return n<0?e.push(t)-1:n}function n(e,t){var n=e.indexOf(t);return-1<n&&e.splice(n,1),n}e.on=function(n,r,i){var s=this[n]||(this[n]={target:[],handler:[]}),o=t(s.target,r);return-1<t(s.handler[o]||(s.handler[o]=[]),i)},e.off=function(t,n,r){var i=this[t],s,o;if(i){s=i.target.indexOf(n);if(-1<s){o=i.handler[s].indexOf(r);if(-1<o){i.handler[s].splice(o,1);if(!i.handler[s].length)return i.handler.splice(s,1),i.target.splice(s,1),i.target.length||delete this[t],!0}}}}})(s.prototype);var o=new r,u=(e.Element||e.Node||e.HTMLElement).prototype,a=/,\s*/,f=function(e,t,n,r){e.addEventListener(t,n,r)},l=function(e,t,n,r){e.removeEventListener(t,n,r)},c=n.createElement("_");u.handleEvent=function(t){var n=o.get(this),r=n&&n[t.type],i,s;if(r){i=r.target.indexOf(t.currentTarget);if(-1<i)for(s=r.handler[i],i=0;i<s.length;p(this,s[i++],t));}},e.on=n.on=u.on=function(t,n,r,i){for(var u=this,l=typeof t=="string",c=(l?t:n).split(a),p=l?!!r:!!i,d=l||o.get(u),v,m,g=0;g<c.length;g++)v=h(u,c[g]),l?f(u,v,n,p):(d||o.set(u,d=new s),d.on(v,t,r),f(t,v,u,p));return this},e.off=n.off=u.off=function(t,n,r,i){for(var s=this,u=typeof t=="string",f=(u?t:n).split(a),c=u?!!r:!!i,p=u||o.get(s),d,v,m=0;m<f.length;m++)d=h(s,f[m]),u?l(s,d,n,c):p&&p.off(d,t,r)&&(l(t,d,s,c),Object.keys(p).length||o["delete"](s));return this},u.css=function(n,r){var i=this,s=i.style,o=typeof n=="string",u,a,f,l,c;if(o){u=m(s,n,"css");if(r===t)return u&&getComputedStyle(i,null).getPropertyValue(u);u&&(s.cssText+=";"+u+":"+r)}else{for(a=Object.keys(n),l=[],f=0;f<a.length;f++)u=m(s,c=a[f],"css"),u&&l.push(";",u,":",n[c]);s.cssText+=l.join("")}return i},e.fire=n.fire=u.fire=function(t,n){this.dispatchEvent(new i(t,{bubbles:!0,cancelable:!0,detail:n}))},n.reflow=u.reflow=function(){return n.documentElement.offsetWidth+1&&this};try{f(c,"_",c)}catch(d){f=function(e,t,n,r){var i=n.handleEvent;e.addEventListener(t,i?n._handleEvent||(n._handleEvent=i.bind(n)):n,r)},l=function(e,t,n,r){e.removeEventListener(t,n._handleEvent||n,r)}}v.create=function(t){return n.createElement(t)},v.text=function(t){return n.createTextNode(t)},e.$=e.query=v,n.query=u.query=function(t){return this.querySelectorAll(t)};var m=function(e){function a(e,n){for(var r=n.charAt(0),i=n.slice(1),s=t.length,o;s--;){o=t[s],o+=(o?r.toUpperCase():r)+i;if(o in e||("on"+o).toLowerCase()in e)return o}}var t=["Khtml","khtml","O","o","MS","ms","Moz","moz","WebKit","Webkit","webKit","webkit",""],n=new RegExp("\\b(?:"+t.join("|").slice(0,-1)+")\\b"),r=e.hasOwnProperty,i=/-([a-z])/g,s=/([A-Z])/g,o=function(e,t){return t.toUpperCase()},u=function(e,t){return"-"+t.toLowerCase()};return function(f,l,c){var h=(c==="css")+l,p=e[h]||(e[h]=a(f,l.replace(i,o)));switch(c){case 1:case!0:p&&!r.call(f,l)&&(f[l]=f[p]);break;case"css":p&&(p=p.replace(s,u),n.test(p)&&(p="-"+p))}return p}}({});e.supports=n.supports=u.supports=function(t,n,r){var i=this.style,s=i&&m(i,t,"css"),o=m(this,t,r||"js");switch(n){case"css":return s;case"js":return o}return!!s||!!o},function(e,t,n,r){function i(e){var t=[];return t._=e,t.add=u,t.contains=a,t.item=f,t.remove=l,t.toggle=c,s(t),t}function s(e){e.length=0,e.push.apply(e,e._.className.replace(/^\s+|\s+$/g,"").split(/\s+/))}function o(e){e._.className=e.join(" ")}function u(e){this.contains(e)||(this.push(e),o(this))}function a(e){return s(this),r=this.indexOf(e),-1<r}function f(e){return this[e]}function l(e){this.contains(e)&&(this.splice(r,1),o(this))}function c(e){this.contains(e)?this.splice(r,1):this.push(e),o(this)}t in e||n(e,t,{get:function(){return n(this,t,{value:i(this)})[t]}})}(u,"classList",Object.defineProperty);var g=[],y=(e.NodeList||n.querySelectorAll("_").constructor).prototype;y.every=g.every,y.filter=g.filter,y.forEach=g.forEach,y.map=g.map,y.some=g.some;var w=function(e){var t=b(e);return function(){return this.forEach(t,arguments),this}};y.on=w(u.on),y.off=w(u.off);var E=b(u.css),S=b(u.dispatchEvent);y.css=function(n,r){if(this.length)return r!==t?this.forEach(E,arguments)||this:this[0].css(n)},y.fire=function(t,n){this.forEach(S,[new i(t,{bubbles:!0,cancelable:!0,detail:n})])},y.reflow=n.reflow,y.supports=function(t){return this.every(x,t)}})(this);