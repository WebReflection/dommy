/*! (C) WebReflection Mit Style License */
(function(e,t){function r(){}function l(t,n){return p(t,n,"js")||p(e,n,"js")||n.toLowerCase()}function c(e,t,n){t.handleEvent?t.handleEvent(n):t.call(e,n)}function m(e){return function(n){e.apply(n,this)}}function b(e){return e.supports(this)}var n=e.WeakMap||function(){var t=[],n=[],r={get:function(e){return n[t.indexOf(e)]},has:function(e){return-1<(i=t.indexOf(e))},set:function(e,s){n[r.has(e)?i:t.push(e)-1]=s},"delete":function(e){r.has(e)&&(t.splice(i,1),n.splice(i,1))}},i;return r};e.CustomEvent||(e.CustomEvent=function(){function t(e,t,n,r){CustomEvent.call(this,{bubbles:t,cancelable:n,detail:r})}return function(r,i){var s=e.document.createEvent("Event");return i?(s.initEvent(r,!!i.bubbles,!!i.cancelable),s.detail=i.detail||null):s.initCustomEvent=t,s}}()),function(e){function t(e,t){var n=e.indexOf(t);return n<0?e.push(t)-1:n}function n(e,t){var n=e.indexOf(t);return-1<n&&e.splice(n,1),n}e.on=function(n,r,i){var s=this[n]||(this[n]={target:[],handler:[]}),o=t(s.target,r);return-1<t(s.handler[o]||(s.handler[o]=[]),i)},e.off=function(t,n,r){var i=this[t],s,o;if(i){s=i.target.indexOf(n);if(-1<s){o=i.handler[s].indexOf(r);if(-1<o){i.handler[s].splice(o,1);if(!i.handler[s].length)return i.handler.splice(s,1),i.target.splice(s,1),i.target.length||delete this[t],!0}}}}}(r.prototype);var i=new n,s=(e.HTMLElement||e.Element).prototype,o=/,\s*/,u=function(e,t,n,r){e.addEventListener(t,n,r)},a=function(e,t,n,r){e.removeEventListener(t,n,r)},f=document.createElement("_");s.handleEvent=function(t){var n=i.get(this),r=n&&n[t.type],s,o;if(r){s=r.target.indexOf(t.currentTarget);if(-1<s)for(o=r.handler[s],s=0;s<o.length;c(this,o[s++],t));}},e.on=document.on=s.on=function(t,n,s,a){for(var f=this,c=typeof t=="string",h=(c?t:n).split(o),p=c?!!s:!!a,d=c||i.get(f),v,m,g=0;g<h.length;g++)v=l(f,h[g]),c?u(f,v,n,p):(d||i.set(f,d=new r),d.on(v,t,s),u(t,v,f,p));return this},e.off=document.off=s.off=function(t,n,r,s){for(var u=this,f=typeof t=="string",c=(f?t:n).split(o),h=f?!!r:!!s,p=f||i.get(u),d,v,m=0;m<c.length;m++)d=l(u,c[m]),f?a(u,d,n,h):p&&p.off(d,t,r)&&(a(t,d,u,h),Object.keys(p).length||i["delete"](u));return this},s.css=function w(e,n){var r=this,i=r.style,s=typeof e=="string",w,o,u,a,f;if(s){w=p(i,e,"css");if(n===t)return w&&getComputedStyle(r,null).getPropertyValue(w);w&&(i.cssText+=";"+w+":"+n)}else{for(o=Object.keys(e),a=[],u=0;u<o.length;u++)(w=p(i,f=o[u],"css"))&&a.push(";",w,":",e[f]);i.cssText+=a.join("")}return r},e.fire=document.fire=s.fire=function(t,n){this.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n}))},document.reflow=s.reflow=function(){return document.documentElement.offsetWidth+1&&this},s.createElement=function(t){return this.appendChild(document.createElement(t))},s.remove||(s.remove=function(){var t=this.parentNode;return t&&t.removeChild(this),this});try{u(f,"_",f)}catch(h){u=function(e,t,n,r){var i=n.handleEvent;e.addEventListener(t,i?n._handleEvent||(n._handleEvent=i.bind(n)):n,r)},a=function(e,t,n,r){e.removeEventListener(t,n._handleEvent||n,r)}}document.find=s.find=function(t){return this.querySelectorAll(t)},e.$=function(t,n){return(n||document).find(t)};var p=function(e){function a(e,n){for(var r=n.charAt(0),n=n.slice(1),i=t.length,s;i--;){s=t[i],s+=(s?r.toUpperCase():r)+n;if(s in e||("on"+s).toLowerCase()in e)return s}}var t=["Khtml","khtml","O","o","MS","ms","Moz","moz","WebKit","Webkit","webKit","webkit",""],n=new RegExp("\\b(?:"+t.join("|").slice(0,-1)+")\\b"),r=e.hasOwnProperty,i=/-([a-z])/g,s=/([A-Z])/g,o=function(e,t){return t.toUpperCase()},u=function(e,t){return"-"+t.toLowerCase()};return function(f,l,c){var h=(c==="css")+l,p=e[h]||(e[h]=a(f,l.replace(i,o)));switch(c){case 1:case!0:p&&!r.call(f,l)&&(f[l]=f[p]);break;case"css":p&&(p=p.replace(s,u),n.test(p)&&(p="-"+p))}return p}}({});e.supports=document.supports=s.supports=function(t,n,r){var i=this.style,s=i&&p(i,t,"css"),o=p(this,t,r||"js");switch(n){case"css":return s;case"js":return o}return!!s||!!o};var d=[],v=(e.NodeList||document.querySelectorAll("_").constructor).prototype;v.every=d.every,v.filter=d.filter,v.forEach=d.forEach,v.map=d.map,v.some=d.some;var g=function(e){var t=m(e);return function(){return this.forEach(t,arguments),this}};v.on=g(s.on),v.off=g(s.off);var y=m(s.css);v.css=function(n,r){if(this.length)return r!==t?this.forEach(y,arguments)||this:this[0].css(n)},v.supports=function(t){return this.every(b,t)}})(this);