/*! (C) WebReflection Mit Style License */
(function(e,t){function r(){}function i(e,t){var n=e.indexOf(t);return n<0?e.push(t)-1:n}function s(e,t){var n=e.indexOf(t);return-1<n&&e.splice(n,1),n}function f(e,t,n){t.handleEvent?t.handleEvent(n):t.call(e,n)}function p(e){function t(t){e.apply(t,this)}return function(){this.forEach(t,arguments)}}function d(e){return e.supports.apply(e,this)}var n=e.WeakMap||function(){var t="indexOf",n=[],r=[],i;return{get:function(e){return r[n[t](e)]},set:function(e,s){r[~(i=n[t](e))?i:n.push(e)-1]=s},"delete":function(e){~(i=n[t](e))&&(n.splice(i,1),r.splice(i,1))}}};e.CustomEvent||(e.CustomEvent=function(){function t(e,t,n,r){CustomEvent.call(this,{bubbles:t,cancelable:n,detail:r})}return function(r,i){var s=e.document.createEvent("Event");return i?(s.initEvent(r,!!i.bubbles,!!i.cancelable),s.detail=i.detail||null):s.initCustomEvent=t,s}}());var o=r.prototype;o.target=o.handler=null,o.on=function(t,n,r){var s=this[t]||(this[t]={target:[],handler:[]}),o=i(s.target,n);return-1<i(s.handler[o]||(s.handler[o]=[]),r)},o.off=function(t,n,r){var i=this[t],s,o;if(i){s=i.target.indexOf(n);if(-1<s){o=i.handler[s].indexOf(r);if(-1<o){i.handler[s].splice(o,1);if(!i.handler[s].length)return i.handler.splice(s,1),i.target.splice(s,1),i.target.length||delete this[t],!0}}}};var u=new n,a=(e.HTMLElement||e.Element).prototype;a.handleEvent=function(t){var n=u.get(this),r=n&&n[t.type],i,s;if(r){i=r.target.indexOf(t.currentTarget);if(-1<i)for(s=r.handler[i],i=0;i<s.length;f(this,s[i++],t));}},a.on=function(t,n,i,s){if(typeof t=="string")this.addEventListener(t,n,!!i);else{var o=u.get(this);o||u.set(this,o=new r),o.on(n,t,i),t.addEventListener(n,this,!!s)}return this},a.off=function(t,n,r,i){if(typeof t=="string")this.removeEventListener(t,n,!!r);else{var s=u.get(this);s&&s.off(n,t,r)&&(t.removeEventListener(n,this,!!i),Object.keys(s).length||u["delete"](this))}return this},a.css=function v(e,n){var r=this,i=r.style,v=l(i,e,"css");return n!==t?(v&&(i.cssText+=";"+v+"="+n),r):v&&getComputedStyle(r,null).getPropertyValue(v)},document.find=a.find=function(e){return this.querySelectorAll(e)};var l=function(e){function a(e,n){for(var r=n.charAt(0),n=n.slice(1),i=t.length,s;i--;){s=t[i],s+=(s?r.toUpperCase():r)+n;if(s in e||("on"+s).toLowerCase()in e)return s}}var t=["Khtml","khtml","O","o","MS","ms","Moz","moz","WebKit","Webkit","webKit","webkit",""],n=new RegExp("\\b(?:"+t.join("|").slice(0,-1)+")\\b"),r=e.hasOwnProperty,i=/-([a-z])/g,s=/([A-Z])/g,o=function(e,t){return t.toUpperCase()},u=function(e,t){return"-"+t.toLowerCase()};return function(f,l,c){var h=(c==="css")+l,p=e[h]||(e[h]=a(f,l.replace(i,o)));switch(c){case 1:case!0:p&&!r.call(f,l)&&(f[l]=f[p]);break;case"css":p&&(p=p.replace(s,u),n.test(p)&&(p="-"+p))}return p}}({});e.supports=document.supports=a.supports=function(t,n){var r=this.style&&l(this.style,t,"css"),i=l(this,t,"js");switch(n){case"css":return r;case"js":return i}return!!r||!!i};var c=[],h=(e.NodeList||document.querySelectorAll("_").constructor).prototype;h.every=c.every,h.filter=c.filter,h.forEach=c.forEach,h.map=c.map,h.some=c.some,h.on=p(a.on),h.off=p(a.off),h.css=p(a.css),h.handleEvent=p(a.handleEvent),h.supports=function(){return this.every(d,arguments)}})(this);