/*! (C) WebReflection Mit Style License */
(function(e,t){function i(){}function c(t,n){return d(t,n,"js")||d(e,n,"js")||n.toLowerCase()}function h(e,t,n){t.handleEvent?t.handleEvent(n):t.call(e,n)}function g(e){return function(n){e.apply(n,this)}}function w(e){return e.supports(this)}var n=e.WeakMap||function(){function i(e){return n[t.indexOf(e)]}function s(e){return-1<(r=t.indexOf(e))}function o(e,i){n[s(e)?r:t.push(e)-1]=i}function u(e){s(e)&&(t.splice(r,1),n.splice(r,1))}var t=[],n=[],r;return{get:i,has:s,set:o,"delete":u}},r=e.CustomEvent||function(){function t(e,t,n,i){r.call(this,{bubbles:t,cancelable:n,detail:i})}return function(r,i){var s=e.document.createEvent("Event");return i?(s.initEvent(r,!!i.bubbles,!!i.cancelable),s.detail=i.detail||null):s.initCustomEvent=t,s}}();(function(e){function t(e,t){var n=e.indexOf(t);return n<0?e.push(t)-1:n}function n(e,t){var n=e.indexOf(t);return-1<n&&e.splice(n,1),n}e.on=function(n,r,i){var s=this[n]||(this[n]={target:[],handler:[]}),o=t(s.target,r);return-1<t(s.handler[o]||(s.handler[o]=[]),i)},e.off=function(t,n,r){var i=this[t],s,o;if(i){s=i.target.indexOf(n);if(-1<s){o=i.handler[s].indexOf(r);if(-1<o){i.handler[s].splice(o,1);if(!i.handler[s].length)return i.handler.splice(s,1),i.target.splice(s,1),i.target.length||delete this[t],!0}}}}})(i.prototype);var s=new n,o=(e.Element||e.Node||e.HTMLElement).prototype,u=/,\s*/,a=function(e,t,n,r){e.addEventListener(t,n,r)},f=function(e,t,n,r){e.removeEventListener(t,n,r)},l=document.createElement("_");o.handleEvent=function(t){var n=s.get(this),r=n&&n[t.type],i,o;if(r){i=r.target.indexOf(t.currentTarget);if(-1<i)for(o=r.handler[i],i=0;i<o.length;h(this,o[i++],t));}},e.on=document.on=o.on=function(t,n,r,o){for(var f=this,l=typeof t=="string",h=(l?t:n).split(u),p=l?!!r:!!o,d=l||s.get(f),v,m,g=0;g<h.length;g++)v=c(f,h[g]),l?a(f,v,n,p):(d||s.set(f,d=new i),d.on(v,t,r),a(t,v,f,p));return this},e.off=document.off=o.off=function(t,n,r,i){for(var o=this,a=typeof t=="string",l=(a?t:n).split(u),h=a?!!r:!!i,p=a||s.get(o),d,v,m=0;m<l.length;m++)d=c(o,l[m]),a?f(o,d,n,h):p&&p.off(d,t,r)&&(f(t,d,o,h),Object.keys(p).length||s["delete"](o));return this},o.css=function(n,r){var i=this,s=i.style,o=typeof n=="string",u,a,f,l,c;if(o){u=d(s,n,"css");if(r===t)return u&&getComputedStyle(i,null).getPropertyValue(u);u&&(s.cssText+=";"+u+":"+r)}else{for(a=Object.keys(n),l=[],f=0;f<a.length;f++)u=d(s,c=a[f],"css"),u&&l.push(";",u,":",n[c]);s.cssText+=l.join("")}return i},e.fire=document.fire=o.fire=function(t,n){this.dispatchEvent(new r(t,{bubbles:!0,cancelable:!0,detail:n}))},document.reflow=o.reflow=function(){return document.documentElement.offsetWidth+1&&this};try{a(l,"_",l)}catch(p){a=function(e,t,n,r){var i=n.handleEvent;e.addEventListener(t,i?n._handleEvent||(n._handleEvent=i.bind(n)):n,r)},f=function(e,t,n,r){e.removeEventListener(t,n._handleEvent||n,r)}}document.query=o.query=function(t){return this.querySelectorAll(t)},e.$=function(t,n){return(n||document).query(t)};var d=function(e){function a(e,n){for(var r=n.charAt(0),i=n.slice(1),s=t.length,o;s--;){o=t[s],o+=(o?r.toUpperCase():r)+i;if(o in e||("on"+o).toLowerCase()in e)return o}}var t=["Khtml","khtml","O","o","MS","ms","Moz","moz","WebKit","Webkit","webKit","webkit",""],n=new RegExp("\\b(?:"+t.join("|").slice(0,-1)+")\\b"),r=e.hasOwnProperty,i=/-([a-z])/g,s=/([A-Z])/g,o=function(e,t){return t.toUpperCase()},u=function(e,t){return"-"+t.toLowerCase()};return function(f,l,c){var h=(c==="css")+l,p=e[h]||(e[h]=a(f,l.replace(i,o)));switch(c){case 1:case!0:p&&!r.call(f,l)&&(f[l]=f[p]);break;case"css":p&&(p=p.replace(s,u),n.test(p)&&(p="-"+p))}return p}}({});e.supports=document.supports=o.supports=function(t,n,r){var i=this.style,s=i&&d(i,t,"css"),o=d(this,t,r||"js");switch(n){case"css":return s;case"js":return o}return!!s||!!o};var v=[],m=(e.NodeList||document.querySelectorAll("_").constructor).prototype;m.every=v.every,m.filter=v.filter,m.forEach=v.forEach,m.map=v.map,m.some=v.some;var y=function(e){var t=g(e);return function(){return this.forEach(t,arguments),this}};m.on=y(o.on),m.off=y(o.off);var b=g(o.css);m.css=function(n,r){if(this.length)return r!==t?this.forEach(b,arguments)||this:this[0].css(n)},m.supports=function(t){return this.every(w,t)}})(this);